{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["BaseTriangle","sceneFunc","context","shape","beginPath","moveTo","lineTo","closePath","fillStrokeShape","fill","stroke","strokeWidth","shadowBlur","WIDTH","X0","Y0","Y1","nowStep","Math","cos","PI","sin","App","getRow","no","now","getFirst","num","floor","nowRight","nowLeft","getGroup","x","ceil","sqrt","row","isNaN","L","R","min","getGroupFirst","getGroupLast","getOffset","generateTotalShapes","time","ans","i","push","id","toString","animationTime","y","generateGroupShapes","max","useState","total","setTotal","setNowLeft","setNowRight","fake","setFake","setAnimationTime","getTotalEl","useRef","animationTimeEl","resultRef","nextStepRef","rot","setRot","rects","setRects","useEffect","current","removeAttribute","innerHTML","GroupRect","setTimeout","leftHeight","BackFromLeft","rightHeight","BackFromRight","Down2Left","Reserve","group","opacity","generateReserveShapes","type","ref","defaultValue","onClick","t","parseInt","value","random","fakeGroup","orz","setAttribute","style","display","verticalAlign","width","window","innerWidth","height","innerHeight","map","rect","shadowOpacity","text","fontSize","rotation","paddingLeft","maxWidth","filename","element","document","createElement","encodeURIComponent","body","appendChild","click","removeChild","download","innerText","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e554dc9c.chunk.js","sourcesContent":["\nimport './App.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Stage, Layer, Rect, Shape, Text, Group } from 'react-konva';\nimport Konva from 'konva';\n\nfunction BaseTriangle() {\n  return (\n    <Shape\n      sceneFunc={(context, shape) => {\n        context.beginPath();\n        context.moveTo(400, 500);\n        context.lineTo(350, 560);\n        context.lineTo(450, 560);\n        context.closePath();\n        // (!) Konva specific method, it is very important\n        context.fillStrokeShape(shape);\n      }}\n      fill=\"#00BFFF\"\n      stroke=\"\"\n      strokeWidth={4}\n      shadowBlur={1}\n    />\n  );\n}\n\nconst ro = 0;\nconst WIDTH = 30;\nconst X0 = 10, XL = 100, XR = 490, XM = 800; // x坐标默认间隔 与 三个托盘x坐标\nconst Y0 = 10, Y1 = 455;  // y默认间隔 与 托盘y坐标\nconst initialRectangles =\n{\n  x: 400 - 200 * Math.cos(Math.PI / 180 * ro) + 10 * Math.sin(Math.PI / 180 * ro),\n  y: 500 - 200 * Math.sin(Math.PI / 180 * ro) - 10 * Math.cos(Math.PI / 180 * ro),\n  width: 400,\n  height: 10,\n  fill: '#00BFFF',\n  id: 'rect1',\n  rotation: ro,\n  centeredScaling: true\n};\n\n\n\nlet nowStep = 0;\nfunction App() {\n  const getRow = (no) => {\n    let now = no - getFirst(no);\n    let num = Math.floor((nowRight - nowLeft + 1) / 3) + ((nowRight - nowLeft + 1) % 3 === 2);\n    if (getGroup(no) == 3) num = nowRight - nowLeft + 1 - num * 2;\n    let x = Math.ceil((Math.sqrt(1 + 8 * num) - 1) / 2);\n    let row = Math.ceil((-Math.sqrt((2 * x + 1) * (2 * x + 1) - 8 * (now + 1)) + (2 * x - 1)) / 2);\n    // console.log(no, \"~\", num, \"~\", x, \"~\", row + 1);\n    if (isNaN(row)) return 0;\n    return row + 1;\n  }\n\n  const getGroup = (no, L = nowLeft, R = nowRight) => { // 获取所在组\n    if (R === L) return 0;\n    if (no < L || no > R) return 0; // 0组表示不显示\n    switch ((R - L + 1) % 3) {\n      case 0: return Math.floor((no - L) / ((R - L + 1) / 3)) + 1;\n      case 1: return Math.min(Math.floor((no - L) / ((R - L) / 3)) + 1, 3);\n      default: return Math.floor((no - L) / ((R - L + 2) / 3)) + 1;\n    }\n  }\n\n  const getGroupFirst = (x, L = nowLeft, R = nowRight) => { // 获取第 x 组的第一个编号\n    if (!x) return 0;\n    switch ((R - L + 1) % 3) {\n      case 0: return L + (x - 1) * ((R - L + 1) / 3);\n      case 1: return L + (x - 1) * ((R - L) / 3);\n      default: return L + (x - 1) * ((R - L + 2) / 3);\n    }\n  }\n  const getFirst = (no, L = nowLeft, R = nowRight) => { // 获取所在组的第一个编号\n    let x = getGroup(no, L, R);\n    return getGroupFirst(x, L, R);\n  }\n  const getGroupLast = (x, L = nowLeft, R = nowRight) => { // 获取第 x 组的第一个编号\n    if (!x) return 0;\n    if (x == 3) return R;\n    switch ((R - L + 1) % 3) {\n      case 0: return L + x * ((R - L + 1) / 3) - 1;\n      case 1: return L + x * ((R - L) / 3) - 1;\n      default: return L + x * ((R - L + 2) / 3) - 1;\n    }\n  }\n  const getLast = (no) => { // 获取所在组的最后一个编号\n    let x = getGroup(no);\n    return getGroupLast(x);\n  }\n  const getOffset = (no) => {\n    let now = no - getFirst(no);\n    let num = Math.floor((nowRight - nowLeft + 1) / 3) + ((nowRight - nowLeft + 1) % 3 === 2);\n    if (getGroup(no) == 3) num = nowRight - nowLeft + 1 - num * 2;\n    let x = Math.ceil((Math.sqrt(1 + 8 * num) - 1) / 2);\n    let row = Math.ceil((-Math.sqrt((2 * x + 1) * (2 * x + 1) - 8 * (now + 1)) + (2 * x - 1)) / 2);\n    if (isNaN(row)) return 0;\n    return (x + (x - row)) * row * WIDTH / 2;\n  }\n  const generateTotalShapes = (time, L = nowLeft, R = nowRight) => {\n    if (nowRight - nowLeft > 1000) return [];\n    let ans = [];\n    for (let i = nowLeft; i <= nowRight; ++i) {\n      ans.push({\n        id: i.toString(),\n        x: X0 + (i - nowLeft) * (X0 + WIDTH) - time * ((getFirst(i) - nowLeft) * (X0 + WIDTH)) / animationTime,\n        y: Y0 + time * ((getGroup(i, L, R) - 1) * (Y0 + WIDTH)) / animationTime\n      });\n    }\n    return ans;\n  }\n\n  const generateGroupShapes = (time) => {\n    if (nowRight - nowLeft > 1000) return [];\n    let ans = [];\n    for (let i = nowLeft; i <= nowRight; ++i) {\n      ans.push({\n        id: i.toString(),\n        x: X0 + (i - getFirst(i)) * (X0 + WIDTH) + time * ((getGroup(i) === 2 ? XR : (getGroup(i) === 1 ? XL : XM)) - (i - getFirst(i) + 1) * X0) / animationTime - time * getOffset(i) / animationTime,\n        y: Y0 + Math.max(getGroup(i) - 1, 0) * (Y0 + WIDTH) + time * (Y1 - WIDTH * getRow(i) - Y0 - Math.max(getGroup(i) - 1, 0) * (Y0 + WIDTH)) / animationTime\n      })\n    }\n    return ans;\n  }\n\n  const generateReserveShapes = (no, time) => {\n    if (nowRight - nowLeft > 1000) return [];\n    let ans = [];\n    for (let i = nowLeft; i <= nowRight; ++i) {\n      ans.push({\n        id: i.toString(),\n        x: (i - getFirst(i)) * WIDTH + (getGroup(i) === 2 ? XR : (getGroup(i) === 1 ? XL : XM)) - getOffset(i) + (getGroup(i) === no ? (time * (X0 + (i - getFirst(i)) * (X0 + WIDTH) - ((i - getFirst(i)) * WIDTH + (getGroup(i) === 2 ? XR : (getGroup(i) === 1 ? XL : XM)) - getOffset(i))) / animationTime) : 0),\n        y: getGroup(i) === no ? (Y1 - WIDTH * getRow(i) + time * (Y0 - Y1 + WIDTH * getRow(i)) / animationTime) : (Y1 - WIDTH * getRow(i)),\n        opacity: getGroup(i) === no ? 0.8 : (0.8 / animationTime * (animationTime - time))\n      })\n    }\n    return ans;\n  }\n\n\n  // Stage is a div container\n  // Layer is actual canvas element (so you may have several canvases in the stage)\n  // And then we have canvas shapes inside the Layer\n\n  // const rectRef = React.useRef();\n  const [total, setTotal] = useState(0);\n  const [nowLeft, setNowLeft] = useState(0);\n  const [nowRight, setNowRight] = useState(-1);\n  const [fake, setFake] = useState(0);\n  const [animationTime, setAnimationTime] = useState(25);\n  const getTotalEl = useRef();\n  const animationTimeEl = useRef();\n  const resultRef = useRef();\n  const nextStepRef = useRef();\n\n  const [rot, setRot] = useState(0);\n\n  const [rects, setRects] = useState([]);\n\n  useEffect(() => {\n    nextStepRef.current.removeAttribute('disabled');\n    resultRef.current.innerHTML = `<p>生成了编号为 ${0} ~ ${total - 1} 的 ${total} 个硬币，其中 ${fake} 号为假币。</p>`\n    setRects(() => {\n      let x = generateTotalShapes(0);\n      return x;\n    });\n  }, [total]);\n  const GroupRect = () => {\n    for (let i = 1; i <= animationTime; ++i)setTimeout(() => { setRects(generateTotalShapes(i)); }, 1000 / 60 * i);\n  }\n  const leftHeight = () => {\n    for (let i = 1; i <= animationTime; ++i)setTimeout(() => { setRot(-5 * i / animationTime); }, 1000 / 60 * i);\n  }\n  const BackFromLeft = () => {\n    for (let i = animationTime - 1; i >= 0; --i)setTimeout(() => { setRot(-5 * i / animationTime); }, 1000 / 60 * (animationTime - i));\n  }\n  const rightHeight = () => {\n    for (let i = 1; i <= animationTime; ++i)setTimeout(() => { setRot(5 * i / animationTime); }, 1000 / 60 * i);\n  }\n  const BackFromRight = () => {\n    for (let i = animationTime - 1; i >= 0; --i)setTimeout(() => { setRot(5 * i / animationTime); }, 1000 / 60 * (animationTime - i));\n  }\n  const Down2Left = () => {\n    for (let i = 1; i <= animationTime; ++i) {\n      setTimeout(() => { setRects(generateGroupShapes(i)); }, 1000 / 60 * i);\n    }\n    // for (let i = 1; i <= animationTime; ++i)setTimeout(() => { setRot(-5 * i / animationTime); }, 1000 / 60 * i);\n\n  }\n  const Left2Up = () => {\n    for (let i = animationTime - 1; i >= 0; --i) {\n      setTimeout(() => { setRects(generateGroupShapes(i)); }, 1000 / 60 * (animationTime - i));\n    }\n  }\n  const Down2Right = () => {\n    for (let i = 1; i <= animationTime; ++i) {\n      setTimeout(() => { setRects(generateGroupShapes(i)); }, 1000 / 60 * i);\n    }\n  }\n  const Right2Up = () => {\n    for (let i = animationTime - 1; i >= 0; --i) {\n      setTimeout(() => { setRects(generateGroupShapes(i)); }, 1000 / 60 * (animationTime - i));\n    }\n  }\n  const totalSubmit = () => {\n    let t = parseInt(getTotalEl.current.value);\n    setFake(parseInt(Math.floor(Math.random() * t)));\n    setNowRight(t - 1);\n    setNowLeft(0);\n    setTotal(t);\n    nowStep = 0;\n  }\n  const animationTimeSubmit = () => {\n    setAnimationTime(parseInt(animationTimeEl.current.value));\n  }\n  const nextStep = () => {\n    let fakeGroup;\n    switch (nowStep % 3) {\n      case 0: // 分组阶段\n        GroupRect();\n        resultRef.current.innerHTML += `<p>第 ${nowStep} 步：将编号为 ${nowLeft} ~ ${nowRight} 的硬币分成三组：${getGroupFirst(1)} ~ ${getGroupLast(1)}、${getGroupFirst(2)} ~ ${getGroupLast(2)}、${getGroupFirst(3)} ~ ${getGroupLast(3)}。</p>`;\n        ++nowStep;\n        break;\n      case 1: // 称量阶段\n        fakeGroup = getGroup(fake);\n        let orz = '天平平衡';\n        if (fakeGroup == 2) { orz = '天平向左倾斜'; leftHeight(); }\n        if (fakeGroup == 1) { orz = '天平向左倾斜'; rightHeight(); }\n        Down2Left();\n        resultRef.current.innerHTML += `<p>第 ${nowStep} 步：将第 1 组编号为 ${getGroupFirst(1)}~${getGroupLast(1)} 的硬币和第 2 组编号为 ${getGroupFirst(2)}~${getGroupLast(2)} 的硬币放到机器上称量，${orz}，说明假币在第 ${fakeGroup} 组。</p>`;\n        ++nowStep;\n        break;\n      case 2: // 丢弃阶段\n        fakeGroup = getGroup(fake);\n        if (fakeGroup == 2) BackFromLeft();\n        if (fakeGroup == 1) BackFromRight();\n        Reserve(fakeGroup);\n        resultRef.current.innerHTML += `<p>第 ${nowStep} 步：将第 ${fakeGroup} 组编号为 ${getGroupFirst(fakeGroup)} ~ ${getGroupLast(fakeGroup)} 的硬币保留，${(getGroupFirst(fakeGroup) == getGroupLast(fakeGroup)) ? '作为进入下一次递归的硬币，' : ''}其他硬币丢弃。</p>`;\n        if (getGroupFirst(fakeGroup) == getGroupLast(fakeGroup)) {\n          nextStepRef.current.setAttribute('disabled', 'disabled');\n          resultRef.current.innerHTML += `<p>通过 ${(nowStep + 1) / 3} 次比较，成功找到假币为 ${fake} 号。</p>`;\n        }\n        ++nowStep;\n        break;\n    }\n  }\n\n  const Reserve = (group) => {\n    for (let i = 1; i <= animationTime; ++i) setTimeout(() => { setRects(generateReserveShapes(group, i)); }, 1000 / 60 * i);\n    setTimeout(() => {\n      setNowRight(getGroupLast(group));\n      setNowLeft(getGroupFirst(group));\n    }, (animationTime + 1) * 1000 / 60);\n  }\n\n  const download = (filename, text) => {\n    var element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n    element.setAttribute('download', filename);\n\n    element.style.display = 'none';\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n  }\n\n\n  const save2File = () => {\n    download('result.txt', resultRef.current.innerText);\n  }\n  return (\n    <>\n      <div>\n        硬币个数：\n        <input type='text' ref={getTotalEl} defaultValue=\"28\" />\n        个\n        <button type='submit' onClick={totalSubmit}>更新</button>\n      </div>\n      <div>\n        动画速度：\n        <input type='text' ref={animationTimeEl} defaultValue=\"25\" />\n        帧（1/60秒）\n        <button type='submit' onClick={animationTimeSubmit}>更新</button>\n      </div>\n      <div>\n        <button onClick={GroupRect}>\n          Group\n        </button>\n        <button onClick={leftHeight}>\n          left Height\n        </button>\n        <button onClick={BackFromLeft}>\n          Back From Left\n        </button>\n        <button onClick={rightHeight}>\n          Right Height\n        </button>\n        <button onClick={BackFromRight}>\n          Back From Right\n        </button>\n      </div>\n      <div>\n        <button onClick={() => { Reserve(1) }}>\n          保留第一组\n        </button>\n        <button onClick={() => { Reserve(2) }}>\n          保留第二组\n        </button>\n        <button onClick={() => { Reserve(3) }}>\n          保留第三组\n        </button>\n        <button onClick={Down2Left}>\n          Down to Left\n        </button>\n        <button onClick={Left2Up}>\n          Left to Up\n        </button>\n        <button onClick={Down2Right}>\n          Down to Right\n        </button>\n        <button onClick={Right2Up}>\n          Right to Up\n        </button>\n      </div>\n      <button onClick={nextStep} ref={nextStepRef}>\n        下一步\n      </button>\n      <div>\n        <Stage style={{ display: 'inline-block', verticalAlign: 'top' }} width={window.innerWidth * 0.7} height={window.innerHeight - 23 * 5} >\n          <Layer>\n            {rects.map((rect) => (\n              <Rect\n                key={rect.id}\n                id={rect.id}\n                x={rect.x}\n                y={rect.y + (getGroup(parseInt(rect.id)) === 1 ? -1 : (getGroup(parseInt(rect.id)) === 2 ? 1 : 0)) * (200 * Math.sin(Math.PI / 180 * rot) - 10 * (1 - Math.cos(Math.PI / 180 * rot)))}\n                width={WIDTH}\n                height={WIDTH}\n                fill={(parseInt(rect.id) === fake) ? \"#FF4000\" : \"#00BFFF\"}\n                shadowBlur={2}\n                shadowOpacity={0.5}\n                opacity={('opacity' in rect) ? rect.opacity : 0.8}\n              />\n            ))}\n            {rects.map((rect) => (\n              <Text\n                x={rect.x + 3}\n                y={rect.y + 7 + (getGroup(parseInt(rect.id)) === 1 ? -1 : (getGroup(parseInt(rect.id)) === 2 ? 1 : 0)) * (200 * Math.sin(Math.PI / 180 * rot) - 10 * (1 - Math.cos(Math.PI / 180 * rot)))}\n                text={rect.id}\n                fontSize={16}\n                fill=\"white\"\n                opacity={('opacity' in rect) ? rect.opacity : 1}\n              >\n              </Text>\n            ))}\n            <BaseTriangle />\n\n            <Rect\n              x={200}\n              y={475 - 200 * Math.sin(Math.PI / 180 * rot) - 10 * Math.cos(Math.PI / 180 * rot)}\n              width={10}\n              height={30}\n              fill='#00BFFF'\n              id='leftSupport'\n              stroke=\"\"\n              shadowBlur={1}\n            />\n            <Rect\n              x={100}\n              y={465 - 200 * Math.sin(Math.PI / 180 * rot) - 10 * Math.cos(Math.PI / 180 * rot)}\n              width={210}\n              height={10}\n              fill='#00BFFF'\n              id='leftPlate'\n              stroke=\"\"\n              shadowBlur={1}\n            />\n            <Rect\n              x={590}\n              y={475 + 200 * Math.sin(Math.PI / 180 * rot) - 10 * Math.cos(Math.PI / 180 * rot)}\n              width={10}\n              height={30}\n              fill='#00BFFF'\n              id='rightSupport'\n              stroke=\"\"\n              shadowBlur={1}\n            />\n            <Rect\n              x={490}\n              y={465 + 200 * Math.sin(Math.PI / 180 * rot) - 10 * Math.cos(Math.PI / 180 * rot)}\n              width={210}\n              height={10}\n              fill='#00BFFF'\n              id='rightPlate'\n              stroke=\"\"\n              shadowBlur={1}\n            />\n            <Rect\n              x={400 - 200 * Math.cos(Math.PI / 180 * rot) + 10 * Math.sin(Math.PI / 180 * rot)}\n              y={500 - 200 * Math.sin(Math.PI / 180 * rot) - 10 * Math.cos(Math.PI / 180 * rot)}\n              width={400}\n              height={10}\n              fill='#00BFFF'\n              id='rect1'\n              rotation={rot}\n              stroke=\"\"\n              shadowBlur={1}\n            />\n\n          </Layer>\n        </Stage>\n        <div style={{ display: 'inline-block', verticalAlign: 'top', paddingLeft: window.innerWidth * 0.03, maxWidth: window.innerWidth * 0.25 }} >\n          <div ref={resultRef}>\n\n          </div>\n          <button onClick={save2File} >保存结果到文本文件</button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}